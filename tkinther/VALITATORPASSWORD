from tkinter import *
import random
import string

class PasswordGenerator:
    def __init__(self, length=8, uppercase=False, special_chars=False):
        self.length = length
        self.uppercase = uppercase
        self.special_chars = special_chars
        
    def generate_password(self):
        chars = string.ascii_lowercase
        if self.uppercase:
            chars += string.ascii_uppercase
        if self.special_chars:
            chars += string.punctuation
        return ''.join(random.choice(chars) for _ in range(self.length))
    

class PasswordGeneratorGUI:
    def __init__(self, master):
        self.master = master
        self.master.title("Generador de Contraseñas")
        self.master.geometry("400x250")
        self.master.resizable(0, 0)
        
        self.lbl_title = Label(self.master, text="Generador de Contraseñas", font=("Arial", 14, "bold"))
        self.lbl_title.pack(pady=10)
        
        self.lbl_length = Label(self.master, text="Longitud:")
        self.lbl_length.pack(pady=5)
        
        self.entry_length = Entry(self.master)
        self.entry_length.pack()
        self.entry_length.insert(0, "8")
        
        self.var_uppercase = BooleanVar()
        self.chk_uppercase = Checkbutton(self.master, text="Incluir mayúsculas", variable=self.var_uppercase)
        self.chk_uppercase.pack()
        
        self.var_special_chars = BooleanVar()
        self.chk_special_chars = Checkbutton(self.master, text="Incluir caracteres especiales", variable=self.var_special_chars)
        self.chk_special_chars.pack()
        
        self.btn_generate = Button(self.master, text="Generar", command=self.generate_password)
        self.btn_generate.pack(pady=10)
        
        self.lbl_password = Label(self.master, text="Contraseña Generada:", font=("Arial", 12))
        self.lbl_password.pack(pady=5)
        
        self.entry_password = Entry(self.master, font=("Arial", 12), width=30)
        self.entry_password.pack()
        
        self.btn_copy = Button(self.master, text="Copiar al portapapeles", command=self.copy_to_clipboard)
        self.btn_copy.pack(pady=10)
        
    def generate_password(self):
        length = int(self.entry_length.get())
        uppercase = self.var_uppercase.get()
        special_chars = self.var_special_chars.get()
        
        password_generator = PasswordGenerator(length, uppercase, special_chars)
        password = password_generator.generate_password()
        
        self.entry_password.delete(0, END)
        self.entry_password.insert(0, password)
        
        strength = self.check_strength(password)
        messagebox.showinfo("Fortaleza de la contraseña", strength)
        
    def copy_to_clipboard(self):
        self.master.clipboard_clear()
        self.master.clipboard_append(self.entry_password.get())
        self.master.update()
        messagebox.showinfo("Copiado", "Contraseña copiada al portapapeles")
        
    def check_strength(self, password):
        strength = ""
        if len(password) < 6:
            strength = "Contraseña muy débil"
        elif len(password) < 8:
            strength = "Contraseña débil"
        elif len(password) < 10:
            strength = "Contraseña moderada"
        else:
            strength = "Contraseña fuerte"
        return strength
    

root = Tk()
gui = PasswordGeneratorGUI(root)
root.mainloop()
