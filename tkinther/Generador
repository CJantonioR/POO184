import tkinter as tk
from tkinter import messagebox
import string
import random

class PasswordGenerator:
    def __init__(self, length=8, include_uppercase=True, include_special=True):
        self.length = length
        self.include_uppercase = include_uppercase
        self.include_special = include_special

    def generate_password(self):
        characters = string.ascii_lowercase
        if self.include_uppercase:
            characters += string.ascii_uppercase
        if self.include_special:
            characters += string.punctuation

        password = ''.join(random.choice(characters) for i in range(self.length))
        return password


class ApplicationWindow:
    def __init__(self):
        self.window = tk.Tk()
        self.window.title("Generador de Contraseñas seguras")
        self.window.geometry("350x250")

        # Title label
        self.title_label = tk.Label(self.window, text="Generador de Password", font=("Arial", 18, "bold"))
        self.title_label.grid(row=0, column=0, columnspan=2, pady=20)

        # Length label and entry
        self.length_label = tk.Label(self.window, text="Longitud:", font=("Arial", 12))
        self.length_label.grid(row=1, column=0)
        self.length_entry = tk.Entry(self.window, font=("Arial", 12))
        self.length_entry.insert(0, "8")
        self.length_entry.grid(row=1, column=1)

        # Include uppercase checkbox
        self.uppercase_var = tk.BooleanVar()
        self.uppercase_check = tk.Checkbutton(self.window,
                                              text="Incluir mayusculas",
                                              variable=self.uppercase_var,
                                              font=("Arial", 12))
        self.uppercase_check.grid(row=2, column=0, columnspan=2)

        # Include special characters checkbox
        self.special_var = tk.BooleanVar()
        self.special_check = tk.Checkbutton(self.window,
                                            text="caracteres",
                                            variable=self.special_var,
                                            font=("Arial", 12))
        self.special_check.grid(row=3, column=0, columnspan=2)

        # Generate button
        self.generate_button = tk.Button(self.window,
                                          text="Generar mi contraseña",
                                          command=self.generate_password,
                                          font=("Arial", 12),
                                          bg="#4CAF50",
                                          fg="white")
        self.generate_button.grid(row=4, column=0, columnspan=2, pady=20)

        # Generated password label and entry
        self.password_label = tk.Label(self.window, text="Contraseña Generada:", font=("Arial", 12))
        self.password_label.grid(row=5, column=0)
        self.password_entry = tk.Entry(self.window, font=("Arial", 12))
        self.password_entry.grid(row=5, column=1)

    def generate_password(self):
        length = int(self.length_entry.get())
        include_uppercase = self.uppercase_var.get()
        include_special = self.special_var.get()
        generator = PasswordGenerator(length, include_uppercase, include_special)
        password = generator.generate_password()
        self.password_entry.delete(0, tk.END)
        self.password_entry.insert(0, password)
        messagebox.showinfo("Generated Password", f"Password: {password}")

    def run(self):
        # Run the main loop
        self.window.mainloop()

if __name__ == "__main__":
    app_window = ApplicationWindow()
    app_window.run()